<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avaliação Continuada 2</title>
</head>

<body style="font-family: Arial, Helvetica, sans-serif;">
    <center>

        <div id="div_login">
            <p>
                Fazer login:
            </p>

            <input id="in_login" placeholder="Nome do usuário"> <br>

            <p>
                Senha:
            </p>

            <input id="in_senha" placeholder="Password"> <br>

            <br><br>

            <select id="in_perfil">
                <option value="0"> -- Selecione o perfil da conta -- </option>
                <option value="usuario"> Usuário </option>
                <option value="usuarioPremium"> Usuario Premium </option>
                <option value="administrador"> Administrador </option>
            </select>

            <button onclick="entrar()">Entrar</button>
            <button onclick="limpar()">Limpar</button>
        </div>

        <div id="div_display"></div>
        <img id="img_perfil" style="height: 100px;">

    </center>
</body>

</html>

<script>

    var t = 2


    // Combinações de usuários válidas (login,senha e perfil)
    //       Login: felipehiga senha: felipe123 perfil: usuário
    //       Login: felipremium senha: premium321 perfil: usuário premium
    //       Login: higadm senha: aDm!@# perfil: administrador

    function entrar() {

        var perfil = in_perfil.value
        var login = in_login.value
        var senha = in_senha.value

        if (perfil == 0) {
            alert('Favor selecionar o perfil do usuário')
        }

        else if (
            (login == 'felipehiga' && senha == 'felipe123' && perfil == 'usuario') ||
            (login == 'felipremium' && senha == 'premium321' && perfil == 'usuarioPremium') ||
            (login == 'higadm' && senha == 'aDm!@#' && perfil == 'administrador')) {

            div_display.innerHTML = `<span style="color: blue;"> Olá, <b>${login}</b>! Você entrou com o perfil <b>${perfil}</b></span>`
            img_perfil.src = `./imgs/${perfil}.png`
            t = 2
        }

        else {
            if (t >= 1) {
                div_display.innerHTML = ` <b style="color: red;">  Falha de autenticação! Você tem mais ${t} tentativa(s)! </b>`
                img_perfil.src = ""
                t -= 1
            }

            else {
                div_display.innerHTML = "<b>Acesso bloqueado! Entre em contato com o suporte</b>"
                div_login.style.display = 'none'
            }
        }
    }

    function limpar() {
        in_login.value = ""
        in_senha.value = ''

    }

</script>